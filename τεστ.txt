 Πρόβλημα 8.1
Πότε το ελάχιστο μοντέλο ενός οριστικού προγράμματος είναι το κενό σύνολο; Τι επίπτωση
έχει αυτό το γεγονός; -> οταν δεν εχουμε μοναδιαιες προτασεις, τοτε το ελαχιστο μοντελο ειναι κενο. Ετσι, δε μπορουμε να εχουμε κανενα λογικο επακολουθο του οριστικου προγραμματος

Πρόβλημα 8.2
Δώστε δύο πολύ απλά παραδείγματα οριστικών προγραμμάτων με βάσεις Herbrand, που
να είναι απειροσύνολα και στο μεν ένα το ελάχιστο μοντέλο να είναι πεπερασμένο, στο δε
άλλο απειροσύνολο. -> για να ειναι η βαση Herbrand απειροσύνολο θα πρεπει και το συμπαν το συμπαν Herbrand να ειναι απειροσύνολο, αυτο συμβαινει οταν
στο συμπαν Herbrand εχω τουλαχιστον ενα συναρτησιακο συμβολο με βαθμο διαφορο του μηδενος. Αν εχω μονο σταθερες, το συμπαν Herbrand ειναι πεπερασμενο και η
βαση Herbrand ειναι πεπερασμενη
F = {a/0, b/1} P = {q/1}
U_l = {f^n(a) | n >=0} B_l = {q(x)|x ανηκει στο U_l}
trivial οριστικο προγραμμα: q(a) ← 1η λυση
M_p = {q(a)}

2η λυση για πεπερασμενο ελαχιστο μοντελο: q(f(f(f(a)))) ←
        q(x) ← q(f(x))
        M_p = {q(f(f(f(a)))), q(f(f(a))), q(f(a)), q(a)}
        
για απειροσύνολο ελαχιστο μοντελο: αλλαζω το σωμα με τον στοχο
    q(f(f(f(a)))) ←             q(a) ←
    q(f(x)) ← q(x) ή            q(f(x)) ← q(x) M_p = B_l = {q(f^n(a))|n>=0}
    M_p = {q(f^n(x))|n>=3}
    
Πρόβλημα 8.3
Είναι η βάση Herbrand μοντέλο για ένα οριστικό πρόγραμμα; Για ένα μη οριστικό πρόγραμμα; Αιτιολογήστε τις απαντήσεις σας.

για ενα οριστικο προγραμμα, η βαση Herbrand ειναι παντοτε μοντελο του προγραμματος, οχι καταναγκη το ελαχιστο
ολες οι προτασεις του οριστικου προγραμματος εχουν μια κεφαλη που ειναι αληθης, το οποιο αρκει, και σωμα, τα οποια ειναι παντα στη βαση Herbrand, δλδ ειναι αληθεις

για ενα μη οριστικο προγραμμα δεν ισχυει απαραιτητα, για παραδειγμα
εστω το μη οριστικο προγραμμα: ~ p(a) και B_l = {p(a)}, η προταση του προγραμματος
ειναι ψευδης, καθως στη βαση Herbrand ανηκει η αρνηση της. Το μοναδικο μοντελο του προγραμματος ειναι το κενο συνολο

Πρόβλημα 8.4
Έστω μια γλώσσα πρώτης τάξης στην οποία p/1, q/1 ∈ P, a/0, b/0 ∈ F και x ∈ V . Δώστε
μια οριστική πρόταση αυτής της γλώσσας και δύο μοντέλα της πρότασης που να είναι ξένα
μεταξύ τους. Αν ένα οριστικό πρόγραμμα αποτελείται μόνο από αυτή την πρόταση, ποιο
είναι το ελάχιστο μοντέλο του; Έχετε να κάνετε κάποιο ενδιαφέρον σχόλιο;

B_l = {p(a), p(b), q(a), q(b)}, U_l = {a,b}
p(x) ← q(x)
    |||
p(a) ← q(a)
p(b) ← q(b)
M_1 = {q(a), p(a)}
M_2 = {q(b), p(b)}
τομη M_1 και M_2 = {} = M_p (ελαχιστο μοντελο)
M_3 = B_l, λογικο αφου το προγραμμα ειναι οριστικο

Πρόβλημα 8.5
Δώστε ένα απλό παράδειγμα οριστικού προγράμματος, τη βάση Herbrand που αντιστοιχεί
σε αυτό και μια ερμηνεία I, η οποία όμως να μην είναι μοντέλο για το πρόγραμμα, αλλά
τέτοια ώστε, είτε διαγράφοντας το στοιχείο A1 από αυτήν είτε προσθέτοντας το στοιχείο
A2 σε αυτήν, οι ερμηνείες που προκύπτουν, δηλαδή οι I1 = I − {A1} και I2 = I ∪ {A2},
αντίστοιχα, να είναι μοντέλα του προγράμματος. Ποια είναι τα A1 και A2, για το παράδειγμά σας; Υπάρχει περίπτωση κάποια, ή και οι δύο, από τις ερμηνείες I1 και I2 να είναι
το ελάχιστο μοντέλο του προγράμματος;
P = {p/1, q/1, r/1}, U_l = {a,b}
p(x) <- q(x)
q(a) <-
r(b) <-
M_p = {q(a), r(b), p(a)}
I = {q(a), r(b), p(a), q(b)}, αυτη η ερμηνεια δεν ειναι μοντελο του προγραμματος, γιατι κανει αληθινο το σωμα της πρωτης προτασης για x = b, αλλα δεν υπαρχει το p(b) στην I
αν A1 = q(b), τοτε η I1 = I - {A1} είναι μοντελο του προγραμματος, και μαλιστα το ελαχιστο ή A2 = {p(b)} τοτε το I2 = I v {A2} ειναι μοντελο του προγραμματος, οχι το ελαχιστο βεβαια
δε μπορει η Ι2 να ειναι ποτε το ελαχιστο μοντελο, αν ειναι καποια θα ειναι Ι1, οπως και στο παραδειγμα μας

παραδειγμα που ουτε η Ι1 δεν ειναι το ελαχιστο μοντελο
p(a) <- q(a) (1)
q(a) <- (2)
r(a) <- s(a) (3)
t(a) <- u(a) (4)
Β_l = {p(a), q(a), r(a), s(a), t(a), u(a)}
I = {p(a), q(a), r(a), u(a)}, η I δεν ειναι μοντελο, καθως η (4) δεν ειναι αληθης
A1 = {u(a)}
I1 = I - {A1}, που ειναι μοντελο, οχι το ελαχιστο
A2 = {t(a)}, Ι2 = Ι v {A2}, που ειναι μοντελο, οχι το ελαχιστο
Μ_p = {q(a), p(a)}

Τελικα, θα μπορουσε η Ι1 να ειναι ελαχιστο μοντελο του προγραμματος, αλλα οχι καταναγκη

Πρόβλημα 8.7
Έστω το οριστικό πρόγραμμα P:
p(a, f(b)) ← (1)
p(x, f(f(y))) ← p(y, f(x)) (2)
Αν τα σύμβολα x και y είναι μεταβλητές, ποιο είναι το σύμπαν Herbrand και ποια η βάση
Herbrand για το P; Ποια από τα p(a, b), p(b, f(a)) και p(f(a), f(f(b))) ανήκουν στο σύνολο
επιτυχίας SS(P) του P και γιατί;

SLD απορριψη για p(f(a), f(f(b))):
    <- p(f(a), f(f(b))) (3)
(2), (3): θ = {x/f(a), y/b}
    <- p(y, f(x))|εφαρμοζω το θ === <- p(b, f(f(a))) (4)
(2)', (4): θ' = {x'/b, y'/a}
    <- p(y', f(x))|εφαρμοζω το θ' === <- p(a, f(b)) (5)
(1), (5): θ'' = {} <-  === ◘, μεσω της SLD-απορριψης καταληξαμε σε αντιφαση, αρα η (3) ανηκει στο συνολο
επιτυχιας SS(P)

ΘΕΜΑ 3 2022
(εʹ) Πιστεύετε ότι υπάρχει μία SLD-απόρριψη για τον εξής στόχο;
?- p(a), p(b), p(f(a)), p(f(b)), p(f(f(a))), p(f(f(b))).
Αιτιολογήστε την απάντησή σας χωρίς να προσπαθήσετε να κατασκευάσετε μία τέτοια
SLD-απόρριψη.

για να υπαρχει SLD-απορριψη για τον παραπανω στοχο, θα πρεπει να υπαρχει SLD-απορριψη για καθενα απο αυτους τους στοχους
οι πρωτοι 5 στοχοι ανηκουν στο ελαχιστο μοντελο του προγραμματος, αρα υπαρχει SLD-απορριψη για καθενα απο αυτους
ο τελευταιος δεν εχει SLD-απορριψη, αρα αποκλειεται να βρουμε SLD-απορριψη για τον στοχο ?- p(a), ..., 

ΘΕΜΑ 3 2022 Β'Περιοδος
(20/60) Γράψτε το ελάχιστο δυνατό οριστικό πρόγραμμα P (ως προς το πλήθος των χαρακτήρων που θα χρησιμοποιήσετε), το οποίο να έχει ως ελάχιστο μοντέλο το σύνολο:
MP = {p(a), p(f(f(a))), p(f(f(f(f(a))))), p(f(f(f(f(f(f(a))))))),
q(f(a)), q(f(f(f(a)))), q(f(f(f(f(f(a))))))}
Ποια θα ήταν η προϕανής απάντηση στο ερώτημα, αν δεν υπήρχε η απαίτηση του “ελάχιστου
προγράμματος”; Δώστε και ένα άλλο μοντέλο του προγράμματος, που να είναι απειροσύνολο,
αλλά να μην είναι η βάση Herbrand.

p(f(f(f(f(f(f(a))))))) <-
p(x) <- p(f(f(x)))
q(x) <- p(f(x))

ή

q(f(f(f(f(f(a)))))) <-
q(x) <- q(f(f(x)))
p(f(x)) <- q(x)
p(a) <-

προφανης απαντηση: καθε στοιχειο του ελαχιστου μοντελου να γραφει ως μοναδιαια προταση του οριστικου προγραμματος

με βαση το πρωτο προγραμμα
M_2 = {p(f^2n(a)), q(f^(2n+1)(a))|n>=0}

maxcntunif(List, MaxSub) :-
    cntunif(N, MaxSub, List),
    \+ (cntunif(N1, _, List), N1 > N).

cntunif(N, Sublist, List) :-
    append(_, S1, Sublist),
    append(S, _, S1),
    unifall(Sublist),
    length(Sublist, N).

unifall([_]).
unifall([X|L]) :-
    unifone(X, L),
    unifall(L).

unifone(_, []).
unifone(X, [Y|L]):-
    \+ X \= Y, unifone(X, L).

knapsack(Capacity, Solution, TotW, TotV) :-
    items(Items),
    solution(Capacity, Items, Solution, TotW, TotV),
    \+ (solution(Capacity, Items, _, _, V), V > TotV).

solution(_, [], [], 0, 0).
solution(Capacity, [W/V|Items], [W/V|Solution], TotW, TotV) :-
    solution(Capacity, Items, Solution, TotW1, TotV1),
    TotW is TotW1 + W, TotV is TotV1 + V, TotW =< Capacity.
solution(Capacity, [_|Items], Solution, TotW, TotV) :-
    solution(Capacity, Items, Solution, TotW1, TotV).
